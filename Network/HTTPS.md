# π›΅οΈ HTTPS
HTTPSλ” Hyper Text Transfer Protocol Secure Socket layerμ μ•½μλ΅,      
`HTTP over SSL(TLS)`, `HTTP over Secure`λΌκ³  λ¶€λ¥΄κΈ°λ„ ν•λ‹¤.

κΈ°μ΅΄μ HTTPλ” λ°μ΄ν„°λ¥Ό ν…μ¤νΈ ν•νƒλ΅ μ†΅μμ‹ ν•κΈ° λ•λ¬Έμ— μ¤‘κ°„μ— μ‹ νΈλ¥Ό μΈν„°μ…‰νΈν•λ©΄ λ°μ΄ν„° μ μ¶μ΄ λ  μ μλ” μ„ν—μ΄ μμ—λ‹¤.     

μ΄λ¬ν• μ·¨μ•½μ μ„ λ³΄μ™„ν•κΈ° μ„ν•΄ HTTPSκ°€ λ“±μ¥ν•κ² λμ—μΌλ©°, HTTPμ λ²„μ „ μ¤‘ HTTP/2κ°€ λ°”λ΅ HTTPS μ„μ—μ„ λ™μ‘ν•κ² λλ‹¤.     

HTTPSλ” HTTP μ”μ²­μ„ `SSL(Secure Socket Layer)` νΉμ€ `TLS` ν”„λ΅ν† μ½μ„ μ΄μ©ν•΄, HTTP ν†µμ‹ μ„ ν•λ” κ³Όμ •μ—μ„ 
λ°μ΄ν„°λ¥Ό `μ•”νΈν™”`ν•μ—¬ μ „μ†΅ν•λ” λ°©λ²•μ„ λ§ν•λ‹¤.
> SSLμ΄ ν‘μ¤€ν™”λλ©° λ°”λ€ μ΄λ¦„μ΄ TLSμΈλ°, λ³΄νΈμ μΌλ΅ SSLμ΄λΌ λ¶λ¦°λ‹¤.


## μ•”νΈν™”
HTTPSλ¥Ό μ΄μ©ν•λ” μ²« λ²μ§Έ λ©μ μ€ μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈκ°€ μ£Όκ³ λ°›λ” μ •λ³΄λ¥Ό νƒμ·¨ν•  μ μ—†λ„λ΅ λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•λ” κ²ƒμ΄λ‹¤.       

HTTPSλ¥Ό μ‚¬μ©ν•μ—¬ λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•μ—¬ μ „μ†΅ν•λ©΄, μ •ν™•ν• ν‚¤λ΅ λ³µνΈν™”ν•κΈ° μ „κΉμ§€ λ‚΄μ©μ„ μ• μ μ—†κΈ° λ•λ¬Έμ—
λΉ„λ°€λ²νΈλ‚ κ°μΈμ •λ³΄ λ“± μ¤‘μ”ν• λ°μ΄ν„°κ°€ μ μ¶λ  κ°€λ¥μ„±μ΄ μ¤„μ–΄λ“ λ‹¤.

### π“ HTTPS μ•”νΈν™” λ°©μ‹
- `λ€μΉ­ ν‚¤ λ°©μ‹`     
μ–‘μ½μ΄ κ³µν†µμ λΉ„λ°€ ν‚¤λ¥Ό κ³µμ ν•μ—¬ λ°μ΄ν„°λ¥Ό μ•”νΈν™”β™λ³µνΈν• ν•λ” κ²ƒ

- `λΉ„λ€μΉ­ ν‚¤ λ°©μ‹`      
κ°κ° κ³µκ°ν‚¤μ™€ λΉ„λ°€ν‚¤λ¥Ό κ°€μ§€κ³  μƒλ€κ°€ λ‚μ κ³µκ°ν‚¤λ΅ μ•”νΈν™”ν• λ°μ΄ν„°λ¥Ό κ°μΈμ΄ κ°€μ§„ λΉ„λ°€ν‚¤λ΅ λ³µνΈν™”ν•λ” κ²ƒ          
Aν‚¤λ΅ μ•”νΈν™”ν•λ©΄ Bν‚¤λ΅λ§ λ³µνΈν™”ν•  μ μκ³  Bν‚¤λ΅ μ•”νΈν™”ν•λ©΄ Aν‚¤λ΅λ§ λ³µνΈν™”ν•  μ μλ‹¤.

<br>

HTTPSμ—μ„λ” ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•μ—¬ μ£Όκ³ λ°›κΈ° μ„ν•΄ `λΉ„λ€μΉ­ ν‚¤ λ°©μ‹`κ³Ό `λ€μΉ­ ν‚¤ λ°©μ‹`μ„ μ„μ–΄μ„ μ‚¬μ©ν•κ² λλ‹¤.        

λΉ„λ€μΉ­ν‚¤ μ•κ³ λ¦¬μ¦μ΄ λ€μΉ­ν‚¤ λ°©μ‹μ— λΉ„ν•΄ ν›¨μ”¬ λ³µμ΅ν•κΈ° λ•λ¬Έμ— μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈκ°€ λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›μ„ λ•λ” `λ€μΉ­ν‚¤ λ°©μ‹`μ„ μ‚¬μ©ν•κ³ ,
λ€μΉ­ν‚¤λ¥Ό μ£Όκ³ λ°›μ„ λ•λ” `λΉ„λ€μΉ­ ν‚¤ λ°©μ‹` μ‚¬μ©

### π“ HTTPS μ•”νΈν™” μ•κ³ λ¦¬μ¦

<img src="images/HTTPS_encryption.png" width="720" height="440">

1. μ„λ²„μ—μ„ κ³µκ°ν‚¤μ™€ λΉ„λ°€ν‚¤λ¥Ό μƒμ„±
2. μ„λ²„μ—μ„ ν΄λΌμ΄μ–ΈνΈλ΅ κ³µκ°ν‚¤λ¥Ό λ³µμ‚¬
3. ν΄λΌμ΄μ–ΈνΈμ λΉ„λ°€ν‚¤ μƒμ„±
4. ν΄λΌμ΄μ–ΈνΈμ—μ„ κ³µκ°ν‚¤λ΅ λΉ„λ°€ν‚¤λ¥Ό μ•”νΈν™” ν•μ—¬ μ„λ²„μ— μ „λ‹¬
5. κ° μ•”νΈν™”λ λΉ„λ°€ν‚¤λ¥Ό μ „λ‹¬
6. μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈ κ°μμ λΉ„λ°€ν‚¤λ΅ λ³µνΈν™”ν•μ—¬ λ€μΉ­ν‚¤ μƒμ„±
7. μƒμ„±λ λ€μΉ­ν‚¤λ¥Ό μ‚¬μ©ν•μ—¬ λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•κ³  μ„λ²„μ™€ ν†µμ‹ 


## μΈμ¦ λ§¤μ»¤λ‹μ¦
HTTPSλ¥Ό μ‚¬μ©ν•λ” λλ‹¤λ¥Έ λ©μ  μ¤‘ ν•λ‚λ” λΈλΌμ°μ €κ°€ μ„λ²„μ μ‘λ‹µκ³Ό ν•¨κ» μ „λ‹¬λ μΈμ¦μ„λ¥Ό ν™•μΈν•  μ μλ‹¤λ” μ μ΄λ‹¤.

HTTPS ν†µμ‹ μ€ λ°”λ΅ μ΄ `SSL μΈμ¦μ„`λ¥Ό ν†µν•΄ λ°μ΄ν„°μ μ‹ λΆ°μ„±μ„ λ³΄μ¥ν•κ² λλ‹¤.     
μΈμ¦μ„λ” μ„λ²„μ μ‹ μ›μ„ λ³΄μ¦ν•λ©°, μΈμ¦μ„λ¥Ό λ°κΈ‰ν•΄μ£Όλ” κ³µμΈλ κΈ°κ΄€μ„ `CA(Certificate Authority)`λΌκ³  ν•λ‹¤.

CAλ” μ‹ λΆ°μ„±μ΄ μ—„κ²©ν κ³µμΈλ κΈ°μ—…λ“¤λ§ μ°Έμ—¬ν•  μ μλ‹¤. (λ€ν‘μ μΈ κΈ°μ—…μ€ Comodo, μ•„λ§μ΅΄,GlobalSign λ“±μ΄ μλ‹¤.)

CAλ” μ„λ²„μ κ³µκ°ν‚¤μ™€ `CSR`μ„ CAμ λΉ„λ°€ν‚¤λ΅ μ•”νΈν™”ν•μ—¬ μΈμ¦μ„λ¥Ό λ°κΈ‰ν•λ‹¤.
> CSR(Certification Signing Request): SSL μΈμ¦μ„ λ°ν–‰μ„ μ„ν• μ„λ… μ”μ²­μ„

### π“ SSL ν”„λ΅ν† μ½

<img src="images/SSL_protocol.png" width="920" height="520">

1. μ„λ²„: κ³µκ°ν‚¤μ™€ λΉ„λ°€ν‚¤λ¥Ό λ§λ“¤κ³ , [CSR + κ³µκ°ν‚¤]λ¥Ό CAμ— μ „λ‹¬
2. CA: μ „λ‹¬λ°›μ€ κ²ƒμ„ CAμ λΉ„λ°€ν‚¤λ΅ μ•”νΈν™”ν•μ—¬ [μΈμ¦μ„]λ¥Ό λ°κΈ‰ν•μ—¬ μ„λ²„μ— μ κ³µ
3. μ„λ²„: ν΄λΌμ΄μ–ΈνΈκ°€ λΈλΌμ°μ €μ— μ ‘μ†ν•λ©΄, μ•”νΈν™”λ μΈμ¦μ„λ¥Ό ν΄λΌμ΄μ–ΈνΈλ΅ μ „λ‹¬
4. ν΄λΌμ΄μ–ΈνΈ: μ „λ‹¬λ°›μ€ κ²ƒ λΈλΌμ°μ €μ—μ„ μ κ³µλ CAμ κ³µκ°ν‚¤λ΅ λ³µνΈν™”ν•¨ (μΈμ¦μ„κ°€ CAμ λΉ„λ°€ν‚¤λ΅ μ•”νΈν™”λμ–΄ μμΌλ―€λ΅ CAμ κ³µκ°ν‚¤λ΅ λ³µνΈν™”ν•  μ μλ‹¤.)
5. ν΄λΌμ΄μ–ΈνΈ: ν΄λΌμ΄μ–ΈνΈμ λΉ„λ°€ν‚¤ μƒμ„±
6. ν΄λΌμ΄μ–ΈνΈ: ν΄λΌμ΄μ–ΈνΈμ λΉ„λ°€ν‚¤λ¥Ό μ„λ²„μ κ³µκ°ν‚¤λ΅ μ•”νΈν™”ν•μ—¬ μ„λ²„λ΅ μ „λ‹¬
7. μ„λ²„: μ „λ‹¬λ°›μ€ ν‚¤λ¥Ό μ„λ²„μ λΉ„λ°€ν‚¤λ΅ λ³µνΈν™”ν•μ—¬ λ€μΉ­ν‚¤λ¥Ό μ–»μ 
8. μ΄μ  λ€μΉ­ν‚¤λ¥Ό ν™μ©ν•μ—¬ ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„λ¥Ό μ‹ λΆ°ν•κ³  μ•μ „ν•κ² ν†µμ‹ ν•  μ μκ² λλ‹¤.       

μ΄ λ€μΉ­ν‚¤λ” `μ„Έμ„ `μ΄ μΆ…λ£λλ©΄ νκΈ°λλ‹¤.


### π“ μ„Έμ…(Session)
μ„Έμ…μ€ μ‹¤μ λ΅ μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈκ°€ λ°μ΄ν„° μ •λ³΄λ¥Ό μ£Όκ³ λ°›λ” λ‹¨κ³„λ¥Ό λ§ν•λ‹¤.        
μ •λ³΄λ¥Ό μ „λ‹¬ν•κΈ° μ „μ— μ„Έμ…ν‚¤ κ°’μ„ μ΄μ©ν•΄ λ€μΉ­ν‚¤ λ°©μ‹μΌλ΅ μ•”νΈν™” ν•κ² λλ‹¤.

λ€ν‘μ μΌλ΅ λ΅κ·ΈμΈμ„ ν†µν•΄ μΈμ¦ μ •λ³΄κ°€ μ €μ¥λκ³  ν΄λΌμ΄μ–ΈνΈκ°€ μΈμ¦μ— μ„±κ³µν• μƒνƒλ¥Ό μ„Έμ…μ΄λΌκ³  ν•λ‹¤.      
μ„λ²„λ” `μΈλ©”λ¨λ¦¬(in-memory)`λ‚ `redis` λ“±μ νΈλμ­μ…μ΄ λΉ λ¥Έ DBμ— μ„Έμ…μ„ μ €μ¥ν•λ‹¤.

μΈμ¦μ— μ„±κ³µν•λ©΄ ν΄λΌμ΄μ–ΈνΈλ” μΌμ • μ‹κ°„ λ™μ• λ°μ΄ν„°λ¥Ό μ†΅μμ‹ ν•  μ μκ² λλ‹¤.

μ΄λ• μ›Ήμ‚¬μ΄νΈμ—μ„ λ΅κ·ΈμΈμ„ μ μ§€ν•κΈ° μ„ν• μλ‹¨μΌλ΅ `μΏ ν‚¤`λ¥Ό μ‚¬μ©ν•λ©°, 
μ΄ μΏ ν‚¤μ—λ” μ„λ²„μ—μ„ λ°κΈ‰ν• μ„Έμ… μ•„μ΄λ””λ¥Ό μ €μ¥ν•λ‹¤.


### π“ ν•΄μ‹±(Hashing) μ•κ³ λ¦¬μ¦
ν•΄μ‹± μ•κ³ λ¦¬μ¦μ€ ν•΄μ‹ ν•¨μλ¥Ό μ‚¬μ©ν•μ—¬, λ°μ΄ν„°λ¥Ό λ” μ‘κ³  μ„μ—¬ μλ” μ΅°κ°μΌλ΅ λ§λ“¤μ–΄μ„ λ°μ΄ν„°λ¥Ό μ¶”μ •ν•κΈ° νλ“¤κ² λ§λ“λ” μ•”νΈν™” λ°©μ‹μ΄λ‹¤.       

μ•”νΈν™” λ°©μ‹ μ¤‘ κ°€μ¥ λ§μ΄ μ“°μ΄λ©°, λ³µνΈν™”κ°€ κ°€λ¥ν• λ‹¤λ¥Έ μ•”νΈν™” λ°©μ‹λ“¤κ³Ό λ‹¬λ¦¬ `μ•”νΈν™”λ§ κ°€λ¥`ν•λ‹¤λ” νΉμ§•μ΄ μλ‹¤.

λ³µνΈν™”κ°€ λ¶κ°€λ¥ν• μ•”νΈν™” λ°©μ‹μΈ ν•΄μ‹±μ„ λ§μ΄ μ‚¬μ©ν•λ” μ΄μ λ” ν•΄μ‹±μ λ©μ μ΄ λ°μ΄ν„° μμ²΄λ¥Ό μ‚¬μ©ν•λ” κ²ƒμ΄
μ•„λ‹λΌ λ™μΌν• λ°μ΄ν„°λ¥Ό μ‚¬μ©ν•κ³  μλ”μ§€ μ—¬λ¶€λ§ ν™•μΈν•λ” κ²ƒμ΄κΈ° λ•λ¬Έμ΄λ‹¤.

ν•΄μ‹±μ΄ μ£Όλ΅ μ‚¬μ©λλ” μμ‹λ” λ΅κ·ΈμΈ μ”μ²­ μ²λ¦¬λ‹¤.     
μ‚¬μ΄νΈ κ΄€λ¦¬μκ°€ μ‚¬μ©μμ λΉ„λ°€λ²νΈλ¥Ό μ•λ©΄ μ• λκΈ° λ•λ¬Έμ— λΉ„λ°€λ²νΈλ¥Ό DBμ— μ €μ¥ν•  λ• λ³µνΈν™”κ°€ λ¶κ°€λ¥ν•λ„λ΅
ν•΄μ‹±ν•μ—¬ μ €μ¥ν•λ‹¤. κ·Έλ¬λ©΄ λ΅κ·ΈμΈ μ”μ²­ μ‹ μ •ν™•ν• κ°’μ„ λ°λΌλ„ ν•΄μ‹±λ κ°’μ„ λΉ„κµν•΄μ„ μΌμΉν•λ”μ§€λ§ ν™•μΈν•λ©΄ λκΈ° λ•λ¬Έμ—
λ΅κ·ΈμΈ μ”μ²­μ„ μ²λ¦¬ν•λ” λ°μ— μ „ν€ λ¬Έμ κ°€ μ—†λ‹¤.

λ”°λΌμ„ ν•΄μ‹±μ€ λ―Όκ°ν• λ°μ΄ν„°λ¥Ό λ‹¤λ£¨μ–΄μ•Όν•λ” μƒν™©μ—μ„, λ°μ΄ν„° μ μ¶μ μ„ν—μ„±μ€ μ¤„μ΄λ©΄μ„
λ°μ΄ν„°μ `μ ν¨μ„±μ„ κ²€μ¦`ν•κΈ° μ„ν•΄ μ‚¬μ©λλ” λ‹¨λ°©ν–¥ μ•”νΈν™” λ°©μ‹μ΄λ‹¤.

> λ§μ΄ μ‚¬μ©λλ” ν•΄μ‹± μ•κ³ λ¦¬μ¦μ€ `SHA-256 μ•κ³ λ¦¬μ¦`μ΄ μλ‹¤.        
> SHA-256 μ•κ³ λ¦¬μ¦μ€ ν•΄μ‹ ν•¨μμ κ²°κ³Όκ°’μ΄ 256λΉ„νΈμΈ μ•κ³ λ¦¬μ¦μ΄λ©°, ν•΄μ‹±μ„ ν•΄μ•Ό ν•  λ©”μ‹μ§€μ— 1μ„ μ¶”κ°€ν•λ” λ“±μ μ „μ²λ¦¬λ¥Ό ν• ν›„,
> μ „μ²λ¦¬λ λ©”μ‹μ§€λ¥Ό κΈ°λ°μΌλ΅ ν•΄μ‹λ¥Ό λ°ν™ν•λ‹¤.



### π“ κ²€μƒ‰ μ—”μ§„ μµμ ν™” (SEO, Search Engine Optimization) λ°©λ²• 
HTTPS μ„λΉ„μ¤λ¥Ό ν•λ” μ‚¬μ΄νΈλ” κ²€μƒ‰μ—”μ§„μΌλ΅ μ›Ή μ‚¬μ΄νΈλ¥Ό κ²€μƒ‰ν–μ„ λ•, κ²°κ³Όλ¥Ό νμ΄μ§€ μƒλ‹¨μ— λ…Έμ¶μ‹μΌ μµμ ν™”λ¥Ό ν•  μ μλ‹¤.

- μ‚¬μ΄νΈ linkμ— μΊλ…Έλ‹μ»¬ μ„¤μ •
- html νμΌμ λ©”νƒ€ μ μ„¤μ •
- νμ΄μ§€ μ†λ„ κ°μ„ 
- μ‚¬μ΄νΈλ§µ(sitemap.xml) μ •κΈ°μ μΌλ΅ κ΄€λ¦¬



### π“ HTTPS κµ¬μ¶• λ°©λ²•
1. CAμ—μ„ κµ¬λ§¤ν• μΈμ¦ν‚¤λ¥Ό κΈ°λ°μΌλ΅ κµ¬μ¶•
2. μ„λ²„ μ•λ‹¨μ HTTPSλ¥Ό μ κ³µν•λ” λ΅λ“λ°Έλ°μ„λ¥Ό λ‘μ–΄ κµ¬μ¶•
3. μ„λ²„ μ•λ‹¨μ— HTTPSλ¥Ό μ κ³µν•λ” CDNμ„ λ‘μ–΄ κµ¬μ¶•



-------------------------------------------------


### References
- https://kim-dragon.tistory.com/68