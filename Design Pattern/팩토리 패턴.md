# ğŸ­ íŒ©í† ë¦¬ íŒ¨í„´ (factory pattern)

> ê°ì²´ë¥¼ ë§Œë“œëŠ” ë¶€ë¶„ì„ `Sub class`ì— ë§¡ê¸°ëŠ” íŒ¨í„´

- ê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” ì½”ë“œì—ì„œ `ê°ì²´ ìƒì„± ë¶€ë¶„`ì„ ë–¼ì–´ë‚´ ì¶”ìƒí™”í•œ íŒ¨í„´
- ìƒì† ê´€ê³„ì— ìˆëŠ” ë‘ í´ë˜ìŠ¤ì—ì„œ `ìƒìœ„ í´ë˜ìŠ¤`ê°€ **ì¤‘ìš”í•œ ë¼ˆëŒ€ë¥¼ ê²°ì •**í•˜ê³ , `í•˜ìœ„ í´ë˜ìŠ¤`ì—ì„œ **ê°ì²´ ìƒì„±ì— ê´€í•œ êµ¬ì²´ì ì¸ ë‚´ìš©ì„ ê²°ì •**í•˜ëŠ” íŒ¨í„´ì„
- `ìƒìœ„ í´ë˜ìŠ¤`ì™€ `í•˜ìœ„ í´ë˜ìŠ¤`ê°€ ë¶„ë¦¬ë˜ê¸° ë•Œë¬¸ì— **ëŠìŠ¨í•œ ê²°í•©**ì„ ê°€ì§
- `ìƒìœ„ í´ë˜ìŠ¤`ì—ì„œëŠ” ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ë°©ì‹ì— ëŒ€í•´ ì „í˜€ ì•Œ í•„ìš”ê°€ ì—†ê¸° ë•Œë¬¸ì— **ë” ë§ì€ ìœ ì—°ì„±**ì„ ê°–ê²Œ ë©ë‹ˆë‹¤.
- ê°ì²´ ìƒì„± ë¡œì§ì´ ë”°ë¡œ ë–¼ì–´ì ¸ ìˆê¸° ë•Œë¬¸ì— ì½”ë“œë¥¼ ë¦¬íŒ©í„°ë§í•˜ë”ë¼ë„ í•œ ê³³ë§Œ ê³ ì¹  ìˆ˜ ìˆê²Œ ë˜ë‹ˆ **ìœ ì§€ ë³´ìˆ˜ì„±ì´ ì¦ê°€**ë¨

- ì˜ˆë¥¼ ë“¤ì–´ ë¼ë–¼ ë ˆì‹œí”¼ì™€ ì•„ë©”ë¦¬ì¹´ë…¸ ë ˆì‹œí”¼, ìš°ìœ  ë ˆì‹œí”¼ë¼ëŠ” êµ¬ì²´ì ì¸ ë‚´ìš©ì´ ë“¤ì–´ ìˆëŠ” í•˜ìœ„ í´ë˜ìŠ¤ê°€ ì»¨ë² ì´ì–´ ë²¨íŠ¸ë¥¼ í†µí•´ ì „ë‹¬ë˜ê³ , ìƒìœ„ í´ë˜ìŠ¤ì¸ ë°”ë¦¬ìŠ¤íƒ€ ê³µì¥ì—ì„œ ì´ ë ˆì‹œí”¼ë“¤ì„ í† ëŒ€ë¡œ ìš°ìœ  ë“±ì„ ìƒì‚°í•˜ëŠ” ìƒì‚° ê³µì •ì„ ìƒê°í•˜ë©´ ë¨

<br />

## ğŸ˜ï¸ ì˜ˆì‹œ

### âœï¸ ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ íŒ©í† ë¦¬ íŒ¨í„´

- ê°„ë‹¨í•˜ê²Œ new Object()ë¡œ êµ¬í˜„í•  ìˆ˜ ìˆìŒ

  ```js
  const num = new Object(42);
  const str = new Object("abc");
  num.constructor.name; // Number
  str.constructor.name; // String
  ```

  - ìˆ«ìë¥¼ ì „ë‹¬í•˜ê±°ë‚˜ ë¬¸ìì—´ì„ ì „ë‹¬í•¨ì— ë”°ë¼ ë‹¤ë¥¸ íƒ€ì…ì˜ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŒ
  - ì¦‰, ì „ë‹¬ë°›ì€ ê°’ì— ë”°ë¼ ë‹¤ë¥¸ ê°ì²´ë¥¼ ìƒì„±í•˜ë©° ì¸ìŠ¤í„´ìŠ¤ì˜ íƒ€ì… ë“±ì„ ì •í•¨

#### ì˜ˆì‹œ) ì»¤í”¼ íŒ©í† ë¦¬ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë¼ë–¼ ë“±ì„ ìƒì‚°í•˜ëŠ” ì½”ë“œ

```js
class Latte {
  constructor() {
    this.name = "latte";
  }
}
class Espresso {
  constructor() {
    this.name = "Espresso";
  }
}

class LatteFactory {
  static createCoffee() {
    return new Latte();
  }
}
class EspressoFactory {
  static createCoffee() {
    return new Espresso();
  }
}

const factoryList = { LatteFactory, EspressoFactory };

class CoffeeFactory {
  static createCoffee(type) {
    const factory = factoryList[type];
    return factory.createCoffee();
  }
}
const main = () => {
  // ë¼ë–¼ ì»¤í”¼ë¥¼ ì£¼ë¬¸í•œë‹¤.
  const coffee = CoffeeFactory.createCoffee("LatteFactory");
  // ì»¤í”¼ ì´ë¦„ì„ ë¶€ë¥¸ë‹¤.
  console.log(coffee.name); // latte
};
main();
```

- `CoffeeFactory`ë¼ëŠ” ìƒìœ„ í´ë˜ìŠ¤ê°€ **ì¤‘ìš”í•œ ë¼ˆëŒ€ë¥¼ ê²°ì •**í•˜ê³  í•˜ìœ„ í´ë˜ìŠ¤ì¸ `LatteFactory`ê°€ **êµ¬ì²´ì ì¸ ë‚´ìš©ì„ ê²°ì •**í•˜ê³  ìˆìŒ
- ì´ëŠ” ì˜ì¡´ì„± ì£¼ì…ì´ë¼ê³ ë„ ë³¼ ìˆ˜ ìˆìŒ
- `CoffeeFactory`ì—ì„œ `LatteFactory`ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ `LatteFactory`ì—ì„œ ìƒì„±í•œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ `CoffeeFactory`ì— ì£¼ì…í•˜ê³  ìˆê¸° ë•Œë¬¸.
- ë˜í•œ, `CoffeeFactory` í´ë˜ìŠ¤ë¥¼ ë³´ë©´ `static` í‚¤ì›Œë“œë¥¼ í†µí•´ `createCoffee()`` ë©”ì„œë“œë¥¼ ì •ì ë©”ì„œë“œë¡œ ì„ ì–¸í•œ ê²ƒì„ ë³¼ ìˆ˜ ìˆëŠ”ë°, ì´ë ‡ê²Œ ì •ì  ë©”ì„œë“œë¡œ ì •ì˜í•˜ë©´ í´ë˜ìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê°ì²´ë¥¼ ë§Œë“¤ì§€ ì•Šê³  í˜¸ì¶œì´ ê°€ëŠ¥í•˜ë©°, í•´ë‹¹ ë©”ì„œë“œì— ëŒ€í•œ ë©”ëª¨ë¦¬ í• ë‹¹ì„ í•œ ë²ˆë§Œ í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìˆìŒ

### âœï¸ ìë°”ì˜ íŒ©í† ë¦¬ íŒ¨í„´

```java
abstract class Coffee {
    public abstract int getPrice();

    @Override
    public String toString() {
        return "Hi this coffee is " + this.getPrice();
    }
}
class CoffeeFactory {
    public static Coffee getCoffee(String type, int price) {
        if ("Latte".equalsIgnoreCase(type)) return new Latte(price);
        else if ("Americano".equalsIgnoreCase(type)) return new Americano(price);
        else { return new DefaultCoffee();
        }
    }
}
class DefaultCoffee extends Coffee {
    private int price;

    public DefaultCoffee() {
        this.price -= 1;
    }

    @Override
    public int getPrice() {
        return this.price;
    }
}
class Latte extends Coffee {
    private int price;

    public Latte(int price) {
        this.price = price;
    }
    @Override
    public int getPrice() {
        return this.price();
    }
}
class Americano extends Coffee {
    private int price;

    public Americano(int price) {
        this.price = price;
    }
    @Override
    public int getPrice() {
        return this.price;
    }
}
public class HelloWorld {
    public static void main(String[] args) {
        Coffee latte = CoffeeFactory.getCoffee("Latee", 4000);
        Coffee ame = CoffeeFactory.getCoffee("Americano", 3000);
        System.out.println("Factory latte ::" + latte); // Hi this coffee is 4000
        System.out.println("Factory ame ::" + ame); // Hi this coffee is 3000
    }
}
```
